(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a87c1354"],{3993:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-drawer",{attrs:{title:t.title,width:t.isMobile()?"100%":t.drawerWidth,closable:"",visible:t.visible,destroyOnClose:""},on:{close:t.onClose}},[o("a-row",{attrs:{type:"flex",align:"middle"}},[o("a-input-search",{attrs:{placeholder:"搜索附件",enterButton:""},on:{search:function(e){return t.handleQuery()}},model:{value:t.queryParam.keyword,callback:function(e){t.$set(t.queryParam,"keyword",e)},expression:"queryParam.keyword"}})],1),o("a-divider"),o("a-row",{attrs:{type:"flex",align:"middle"}},[o("a-skeleton",{attrs:{active:"",loading:t.skeletonLoading,paragraph:{rows:18}}},[o("a-col",{attrs:{span:24}},[0==t.attachments.length?o("a-empty"):t._l(t.attachments,(function(e,a){return o("div",{key:a,staticClass:"attach-item",on:{click:function(o){return t.handleSelectAttachment(e)}}},[o("span",{directives:[{name:"show",rawName:"v-show",value:!t.handleJudgeMediaType(e),expression:"!handleJudgeMediaType(item)"}]},[t._v("当前格式不支持预览")]),o("img",{directives:[{name:"show",rawName:"v-show",value:t.handleJudgeMediaType(e),expression:"handleJudgeMediaType(item)"}],attrs:{src:e.thumbPath,loading:"lazy"}})])}))],2)],1)],1),o("a-divider"),o("div",{staticClass:"page-wrapper"},[o("a-pagination",{attrs:{current:t.pagination.page,total:t.pagination.total,defaultPageSize:t.pagination.size},on:{change:t.handlePaginationChange}})],1),o("a-divider",{staticClass:"divider-transparent"}),o("div",{staticClass:"bottom-control"},[t.isChooseAvatar?o("a-button",{staticStyle:{marginRight:"8px"},attrs:{type:"dashed"},on:{click:t.handleSelectGravatar}},[t._v("使用 Gravatar")]):t._e(),o("a-button",{attrs:{type:"primary"},on:{click:t.handleShowUploadModal}},[t._v("上传附件")])],1)],1),o("a-modal",{attrs:{title:"上传附件",footer:null,afterClose:t.onUploadClose,destroyOnClose:""},model:{value:t.uploadVisible,callback:function(e){t.uploadVisible=e},expression:"uploadVisible"}},[o("FilePondUpload",{ref:"upload",attrs:{uploadHandler:t.uploadHandler}})],1)],1)},s=[],n=(o("28a5"),o("55dd"),o("c5f6"),o("ac0d")),i=o("a796"),l={name:"AttachmentSelectDrawer",mixins:[n["a"],n["b"]],model:{prop:"visible",event:"close"},props:{visible:{type:Boolean,required:!1,default:!1},drawerWidth:{type:Number,required:!1,default:480},title:{type:String,required:!1,default:"选择附件"},isChooseAvatar:{type:Boolean,required:!1,default:!1}},data:function(){return{uploadVisible:!1,skeletonLoading:!0,pagination:{page:1,size:12,sort:null,total:1},queryParam:{page:0,size:12,sort:null,keyword:null},attachments:[],uploadHandler:i["a"].upload}},watch:{visible:function(t,e){t&&(this.loadSkeleton(),this.loadAttachments())}},methods:{loadSkeleton:function(){var t=this;this.skeletonLoading=!0,setTimeout((function(){t.skeletonLoading=!1}),500)},handleShowUploadModal:function(){this.uploadVisible=!0},loadAttachments:function(){var t=this;this.queryParam.page=this.pagination.page-1,this.queryParam.size=this.pagination.size,this.queryParam.sort=this.pagination.sort,i["a"].query(this.queryParam).then((function(e){t.attachments=e.data.data.content,t.pagination.total=e.data.data.total}))},handleQuery:function(){this.handlePaginationChange(1,this.pagination.size)},handleSelectAttachment:function(t){this.$emit("listenToSelect",t)},handleSelectGravatar:function(){this.$emit("listenToSelectGravatar")},handlePaginationChange:function(t,e){this.pagination.page=t,this.pagination.size=e,this.loadAttachments()},onUploadClose:function(){this.$refs.upload.handleClearFileList(),this.loadSkeleton(),this.handlePaginationChange(1,this.pagination.size)},handleJudgeMediaType:function(t){var e=t.mediaType;if(e){var o=e.split("/")[0];return"image"===o}return!1},onClose:function(){this.$emit("close",!1)}}},r=l,p=o("2877"),c=Object(p["a"])(r,a,s,!1,null,null,null);e["a"]=c.exports},a796:function(t,e,o){"use strict";var a=o("bc3a"),s=o.n(a),n=o("9efd"),i="/api/admin/attachments",l={query:function(t){return Object(n["a"])({url:i,params:t,method:"get"})},get:function(t){return Object(n["a"])({url:"".concat(i,"/").concat(t),method:"get"})},delete:function(t){return Object(n["a"])({url:"".concat(i,"/").concat(t),method:"delete"})},deleteInBatch:function(t){return Object(n["a"])({url:"".concat(i),method:"delete",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})},update:function(t,e){return Object(n["a"])({url:"".concat(i,"/").concat(t),method:"put",data:e})},getMediaTypes:function(){return Object(n["a"])({url:"".concat(i,"/media_types"),method:"get"})},getTypes:function(){return Object(n["a"])({url:"".concat(i,"/types"),method:"get"})}};l.CancelToken=s.a.CancelToken,l.isCancel=s.a.isCancel,l.upload=function(t,e,o){return Object(n["a"])({url:"".concat(i,"/upload"),timeout:864e4,data:t,onUploadProgress:e,cancelToken:o,method:"post"})},l.uploads=function(t,e,o){return Object(n["a"])({url:"".concat(i,"/uploads"),timeout:864e4,data:t,onUploadProgress:e,cancelToken:o,method:"post"})},l.type={LOCAL:{type:"LOCAL",text:"本地"},SMMS:{type:"SMMS",text:"SM.MS"},UPOSS:{type:"UPOSS",text:"又拍云"},QINIUOSS:{type:"QINIUOSS",text:"七牛云"},ALIOSS:{type:"ALIOSS",text:"阿里云"},BAIDUBOS:{type:"BAIDUBOS",text:"百度云"},TENCENTCOS:{type:"TENCENTCOS",text:"腾讯云"},HUAWEIOBS:{type:"HUAWEIOBS",text:"华为云"}},e["a"]=l},caf6:function(t,e,o){"use strict";var a=o("9efd"),s="/api/admin/posts",n={listLatest:function(t){return Object(a["a"])({url:"".concat(s,"/latest"),params:{top:t},method:"get"})},query:function(t){return Object(a["a"])({url:s,params:t,method:"get"})},get:function(t){return Object(a["a"])({url:"".concat(s,"/").concat(t),method:"get"})},create:function(t,e){return Object(a["a"])({url:s,method:"post",data:t,params:{autoSave:e}})},update:function(t,e,o){return Object(a["a"])({url:"".concat(s,"/").concat(t),method:"put",data:e,params:{autoSave:o}})},updateDraft:function(t,e){return Object(a["a"])({url:"".concat(s,"/").concat(t,"/status/draft/content"),method:"put",data:{content:e}})},updateStatus:function(t,e){return Object(a["a"])({url:"".concat(s,"/").concat(t,"/status/").concat(e),method:"put"})},updateStatusInBatch:function(t,e){return Object(a["a"])({url:"".concat(s,"/status/").concat(e),data:t,method:"put"})},delete:function(t){return Object(a["a"])({url:"".concat(s,"/").concat(t),method:"delete"})},deleteInBatch:function(t){return Object(a["a"])({url:"".concat(s),data:t,method:"delete"})},preview:function(t){return Object(a["a"])({url:"".concat(s,"/preview/").concat(t),method:"get"})},postStatus:{PUBLISHED:{value:"PUBLISHED",color:"green",status:"success",text:"已发布"},DRAFT:{value:"DRAFT",color:"yellow",status:"warning",text:"草稿"},RECYCLE:{value:"RECYCLE",color:"red",status:"error",text:"回收站"},INTIMATE:{value:"INTIMATE",color:"blue",status:"success",text:"私密"}},permalinkType:{DEFAULT:{type:"DEFAULT",text:"默认"},DATE:{type:"DATE",text:"年月型"},DAY:{type:"DAY",text:"年月日型"},ID:{type:"ID",text:"ID 型"}}};e["a"]=n},d369:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-row",[o("a-col",{attrs:{span:24}},[o("div",{staticClass:"card-container"},[t.advancedOptions?o("a-tabs",{staticClass:"advanced",attrs:{type:"card"}},[o("a-tab-pane",{key:"permalink"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"link"}}),t._v("固定链接\n            ")],1),o("PermalinkTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1),o("a-tab-pane",{key:"api"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"api"}}),t._v("API 设置\n            ")],1),o("ApiTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1),o("a-tab-pane",{key:"advanced-other"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"align-left"}}),t._v("其他设置\n            ")],1),o("AdvancedOtherTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1)],1):o("a-tabs",{staticClass:"general",attrs:{type:"card"}},[o("a-tab-pane",{key:"general"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"tool"}}),t._v("常规设置\n            ")],1),o("GeneralTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1),o("a-tab-pane",{key:"seo"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"global"}}),t._v("SEO 设置\n            ")],1),o("SeoTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1),o("a-tab-pane",{key:"post"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"form"}}),t._v("文章设置\n            ")],1),o("PostTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1),o("a-tab-pane",{key:"comment"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"message"}}),t._v("评论设置\n            ")],1),o("CommentTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1),o("a-tab-pane",{key:"attachment"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"picture"}}),t._v("附件设置\n            ")],1),o("AttachmentTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1),o("a-tab-pane",{key:"smtp"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"mail"}}),t._v("SMTP 服务\n            ")],1),o("SmtpTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1),o("a-tab-pane",{key:"other"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"align-left"}}),t._v("其他设置\n            ")],1),o("OtherTab",{attrs:{options:t.options},on:{onChange:t.onOptionsChange,onSave:t.onSaveOptions}})],1)],1)],1)])],1),o("div",{staticStyle:{position:"fixed",bottom:"30px",right:"30px"}},[o("a-tooltip",{attrs:{placement:"top"}},[o("template",{slot:"title"},[o("span",[t._v(t._s(t.advancedOptions?"基础选项":"高级选项"))])]),o("a-button",{attrs:{type:"primary",shape:"circle",icon:t.advancedOptions?"setting":"thunderbolt",size:"large"},on:{click:function(e){return t.handleAdvancedOptions()}}})],2)],1)],1)},s=[],n=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"博客标题："}},[o("a-input",{model:{value:t.options.blog_title,callback:function(e){t.$set(t.options,"blog_title",e)},expression:"options.blog_title"}})],1),o("a-form-item",{attrs:{label:"博客地址："}},[o("a-input",{attrs:{placeholder:"如：https://halo.run"},model:{value:t.options.blog_url,callback:function(e){t.$set(t.options,"blog_url",e)},expression:"options.blog_url"}})],1),o("a-form-item",{attrs:{label:"Logo："}},[o("a-input",{model:{value:t.options.blog_logo,callback:function(e){t.$set(t.options,"blog_logo",e)},expression:"options.blog_logo"}},[o("a",{attrs:{slot:"addonAfter",href:"javascript:void(0);"},on:{click:function(e){t.logoDrawerVisible=!0}},slot:"addonAfter"},[o("a-icon",{attrs:{type:"picture"}})],1)])],1),o("a-form-item",{attrs:{label:"Favicon："}},[o("a-input",{model:{value:t.options.blog_favicon,callback:function(e){t.$set(t.options,"blog_favicon",e)},expression:"options.blog_favicon"}},[o("a",{attrs:{slot:"addonAfter",href:"javascript:void(0);"},on:{click:function(e){t.faviconDrawerVisible=!0}},slot:"addonAfter"},[o("a-icon",{attrs:{type:"picture"}})],1)])],1),o("a-form-item",{attrs:{label:"页脚信息："}},[o("a-input",{attrs:{type:"textarea",autoSize:{minRows:5},placeholder:"支持 HTML 格式的文本"},model:{value:t.options.blog_footer_info,callback:function(e){t.$set(t.options,"blog_footer_info",e)},expression:"options.blog_footer_info"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1),o("AttachmentSelectDrawer",{attrs:{title:"选择 Logo"},on:{listenToSelect:t.handleSelectLogo},model:{value:t.logoDrawerVisible,callback:function(e){t.logoDrawerVisible=e},expression:"logoDrawerVisible"}}),o("AttachmentSelectDrawer",{attrs:{title:"选择 Favicon"},on:{listenToSelect:t.handleSelectFavicon},model:{value:t.faviconDrawerVisible,callback:function(e){t.faviconDrawerVisible=e},expression:"faviconDrawerVisible"}})],1)},l=[],r=o("3993"),p={name:"GeneralTab",components:{AttachmentSelectDrawer:r["a"]},props:{options:{type:Object,required:!0}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},logoDrawerVisible:!1,faviconDrawerVisible:!1}},destroyed:function(){this.faviconDrawerVisible&&(this.faviconDrawerVisible=!1),this.logoDrawerVisible&&(this.logoDrawerVisible=!1)},beforeRouteLeave:function(t,e,o){this.faviconDrawerVisible&&(this.faviconDrawerVisible=!1),this.logoDrawerVisible&&(this.logoDrawerVisible=!1),o()},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){this.options.blog_title?this.options.blog_url?this.$emit("onSave"):this.$notification["error"]({message:"提示",description:"博客地址不能为空！"}):this.$notification["error"]({message:"提示",description:"博客标题不能为空！"})},handleSelectLogo:function(t){this.$set(this.options,"blog_logo",encodeURI(t.path)),this.logoDrawerVisible=!1},handleSelectFavicon:function(t){this.$set(this.options,"blog_favicon",encodeURI(t.path)),this.faviconDrawerVisible=!1}}},c=p,u=o("2877"),_=Object(u["a"])(c,i,l,!1,null,null,null),m=_.exports,d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"屏蔽搜索引擎："}},[o("a-switch",{model:{value:t.options.seo_spider_disabled,callback:function(e){t.$set(t.options,"seo_spider_disabled",e)},expression:"options.seo_spider_disabled"}})],1),o("a-form-item",{attrs:{label:"关键词："}},[o("a-input",{attrs:{placeholder:"多个关键词以英文状态下的逗号隔开"},model:{value:t.options.seo_keywords,callback:function(e){t.$set(t.options,"seo_keywords",e)},expression:"options.seo_keywords"}})],1),o("a-form-item",{attrs:{label:"博客描述："}},[o("a-input",{attrs:{type:"textarea",autoSize:{minRows:5}},model:{value:t.options.seo_description,callback:function(e){t.$set(t.options,"seo_description",e)},expression:"options.seo_description"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1)},b=[],h={name:"SeoTab",props:{options:{type:Object,required:!0}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}}}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){this.$emit("onSave")}}},f=h,v=Object(u["a"])(f,d,b,!1,null,null,null),y=v.exports,g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"首页文章排序："}},[o("a-select",{model:{value:t.options.post_index_sort,callback:function(e){t.$set(t.options,"post_index_sort",e)},expression:"options.post_index_sort"}},[o("a-select-option",{attrs:{value:"createTime"}},[t._v("创建时间")]),o("a-select-option",{attrs:{value:"editTime"}},[t._v("最后编辑时间")]),o("a-select-option",{attrs:{value:"visits"}},[t._v("点击量")])],1)],1),o("a-form-item",{attrs:{label:"首页每页条数："}},[o("a-input",{attrs:{type:"number"},model:{value:t.options.post_index_page_size,callback:function(e){t.$set(t.options,"post_index_page_size",e)},expression:"options.post_index_page_size"}})],1),o("a-form-item",{attrs:{label:"归档每页条数："}},[o("a-input",{attrs:{type:"number"},model:{value:t.options.post_archives_page_size,callback:function(e){t.$set(t.options,"post_archives_page_size",e)},expression:"options.post_archives_page_size"}})],1),o("a-form-item",{attrs:{label:"RSS 内容类型："}},[o("a-select",{model:{value:t.options.rss_content_type,callback:function(e){t.$set(t.options,"rss_content_type",e)},expression:"options.rss_content_type"}},[o("a-select-option",{attrs:{value:"full"}},[t._v("全文")]),o("a-select-option",{attrs:{value:"summary"}},[t._v("摘要")])],1)],1),o("a-form-item",{attrs:{label:"RSS 内容条数："}},[o("a-input",{attrs:{type:"number"},model:{value:t.options.rss_page_size,callback:function(e){t.$set(t.options,"rss_page_size",e)},expression:"options.rss_page_size"}})],1),o("a-form-item",{attrs:{label:"文章摘要字数："}},[o("a-input",{attrs:{type:"number"},model:{value:t.options.post_summary_length,callback:function(e){t.$set(t.options,"post_summary_length",e)},expression:"options.post_summary_length"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1)},k=[],x={name:"PostTab",props:{options:{type:Object,required:!0}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}}}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){this.$emit("onSave")}}},w=x,$=Object(u["a"])(w,g,k,!1,null,null,null),S=$.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"评论者头像："}},[o("a-select",{model:{value:t.options.comment_gravatar_default,callback:function(e){t.$set(t.options,"comment_gravatar_default",e)},expression:"options.comment_gravatar_default"}},[o("a-select-option",{attrs:{value:"mm"}},[t._v("默认")]),o("a-select-option",{attrs:{value:"identicon"}},[t._v("抽象几何图形")]),o("a-select-option",{attrs:{value:"monsterid"}},[t._v("小怪物")]),o("a-select-option",{attrs:{value:"wavatar"}},[t._v("Wavatar")]),o("a-select-option",{attrs:{value:"retro"}},[t._v("复古")]),o("a-select-option",{attrs:{value:"robohash"}},[t._v("机器人")]),o("a-select-option",{attrs:{value:"blank"}},[t._v("不显示头像")])],1)],1),o("a-form-item",{attrs:{label:"评论审核后才显示："}},[o("a-switch",{model:{value:t.options.comment_new_need_check,callback:function(e){t.$set(t.options,"comment_new_need_check",e)},expression:"options.comment_new_need_check"}})],1),o("a-form-item",{attrs:{label:"新评论通知："}},[o("a-switch",{model:{value:t.options.comment_new_notice,callback:function(e){t.$set(t.options,"comment_new_notice",e)},expression:"options.comment_new_notice"}})],1),o("a-form-item",{attrs:{label:"评论回复通知对方："}},[o("a-switch",{model:{value:t.options.comment_reply_notice,callback:function(e){t.$set(t.options,"comment_reply_notice",e)},expression:"options.comment_reply_notice"}})],1),o("a-form-item",{attrs:{label:"API 评论开关：",help:"* 关闭之后将无法进行评论"}},[o("a-switch",{model:{value:t.options.comment_api_enabled,callback:function(e){t.$set(t.options,"comment_api_enabled",e)},expression:"options.comment_api_enabled"}})],1),o("a-form-item",{attrs:{label:"评论模块 JS："}},[o("a-input",{attrs:{type:"textarea",autoSize:{minRows:2},placeholder:"该设置仅对内置的评论模块有效"},model:{value:t.options.comment_internal_plugin_js,callback:function(e){t.$set(t.options,"comment_internal_plugin_js",e)},expression:"options.comment_internal_plugin_js"}})],1),o("a-form-item",{attrs:{label:"每页显示条数： "}},[o("a-input",{attrs:{type:"number"},model:{value:t.options.comment_page_size,callback:function(e){t.$set(t.options,"comment_page_size",e)},expression:"options.comment_page_size"}})],1),o("a-form-item",{attrs:{label:"占位提示："}},[o("a-input",{model:{value:t.options.comment_content_placeholder,callback:function(e){t.$set(t.options,"comment_content_placeholder",e)},expression:"options.comment_content_placeholder"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1)},C=[],T={name:"CommentTab",props:{options:{type:Object,required:!0}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}}}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){!this.options.comment_new_notice&&!this.options.comment_reply_notice||this.options.email_enabled?this.$emit("onSave"):this.$notification["error"]({message:"提示",description:"新评论通知或回复通知需要打开和配置 SMTP 服务！"})}}},P=T,A=Object(u["a"])(P,O,C,!1,null,null,null),j=A.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"上传图片时预览："}},[o("a-switch",{model:{value:t.options.attachment_upload_image_preview_enable,callback:function(e){t.$set(t.options,"attachment_upload_image_preview_enable",e)},expression:"options.attachment_upload_image_preview_enable"}})],1),o("a-form-item",{attrs:{label:"最大上传文件数："}},[o("a-input",{attrs:{type:"number"},model:{value:t.options.attachment_upload_max_files,callback:function(e){t.$set(t.options,"attachment_upload_max_files",e)},expression:"options.attachment_upload_max_files"}})],1),o("a-form-item",{attrs:{label:"同时上传文件数："}},[o("a-input",{attrs:{type:"number"},model:{value:t.options.attachment_upload_max_parallel_uploads,callback:function(e){t.$set(t.options,"attachment_upload_max_parallel_uploads",e)},expression:"options.attachment_upload_max_parallel_uploads"}})],1),o("a-form-item",{attrs:{label:"存储位置："}},[o("a-select",{model:{value:t.options.attachment_type,callback:function(e){t.$set(t.options,"attachment_type",e)},expression:"options.attachment_type"}},t._l(Object.keys(t.attachmentType),(function(e){return o("a-select-option",{key:e,attrs:{value:e}},[t._v(t._s(t.attachmentType[e].text))])})),1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"SMMS"===t.options.attachment_type,expression:"options.attachment_type === 'SMMS'"}],attrs:{id:"smmsForm"}},[o("a-form-item",{attrs:{label:"Secret Token："}},[o("a-input-password",{attrs:{placeholder:"需要到 sm.ms 官网注册后获取",autocomplete:"new-password"},model:{value:t.options.smms_api_secret_token,callback:function(e){t.$set(t.options,"smms_api_secret_token",e)},expression:"options.smms_api_secret_token"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"UPOSS"===t.options.attachment_type,expression:"options.attachment_type === 'UPOSS'"}],attrs:{id:"upOssForm"}},[o("a-form-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:t.options.oss_upyun_domain_protocol,callback:function(e){t.$set(t.options,"oss_upyun_domain_protocol",e)},expression:"options.oss_upyun_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[t._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[t._v("HTTP")])],1)],1),o("a-form-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"无需再加上 http:// 或者 https://"},model:{value:t.options.oss_upyun_domain,callback:function(e){t.$set(t.options,"oss_upyun_domain",e)},expression:"options.oss_upyun_domain"}})],1),o("a-form-item",{attrs:{label:"空间名称："}},[o("a-input",{model:{value:t.options.oss_upyun_bucket,callback:function(e){t.$set(t.options,"oss_upyun_bucket",e)},expression:"options.oss_upyun_bucket"}})],1),o("a-form-item",{attrs:{label:"操作员名称："}},[o("a-input",{model:{value:t.options.oss_upyun_operator,callback:function(e){t.$set(t.options,"oss_upyun_operator",e)},expression:"options.oss_upyun_operator"}})],1),o("a-form-item",{attrs:{label:"操作员密码："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.oss_upyun_password,callback:function(e){t.$set(t.options,"oss_upyun_password",e)},expression:"options.oss_upyun_password"}})],1),o("a-form-item",{attrs:{label:"文件目录："}},[o("a-input",{model:{value:t.options.oss_upyun_source,callback:function(e){t.$set(t.options,"oss_upyun_source",e)},expression:"options.oss_upyun_source"}})],1),o("a-form-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"间隔标识符+图片处理版本名称"},model:{value:t.options.oss_upyun_style_rule,callback:function(e){t.$set(t.options,"oss_upyun_style_rule",e)},expression:"options.oss_upyun_style_rule"}})],1),o("a-form-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"间隔标识符+图片处理版本名称，一般为后台展示所用"},model:{value:t.options.oss_upyun_thumbnail_style_rule,callback:function(e){t.$set(t.options,"oss_upyun_thumbnail_style_rule",e)},expression:"options.oss_upyun_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"QINIUOSS"===t.options.attachment_type,expression:"options.attachment_type === 'QINIUOSS'"}],attrs:{id:"qiniuOssForm"}},[o("a-form-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:t.options.oss_qiniu_domain_protocol,callback:function(e){t.$set(t.options,"oss_qiniu_domain_protocol",e)},expression:"options.oss_qiniu_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[t._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[t._v("HTTP")])],1)],1),o("a-form-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"无需再加上 http:// 或者 https://"},model:{value:t.options.oss_qiniu_domain,callback:function(e){t.$set(t.options,"oss_qiniu_domain",e)},expression:"options.oss_qiniu_domain"}})],1),o("a-form-item",{attrs:{label:"区域："}},[o("a-auto-complete",{attrs:{dataSource:t.qiniuOssZones,allowClear:""},model:{value:t.options.oss_qiniu_zone,callback:function(e){t.$set(t.options,"oss_qiniu_zone",e)},expression:"options.oss_qiniu_zone"}})],1),o("a-form-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.oss_qiniu_access_key,callback:function(e){t.$set(t.options,"oss_qiniu_access_key",e)},expression:"options.oss_qiniu_access_key"}})],1),o("a-form-item",{attrs:{label:"Secret Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.oss_qiniu_secret_key,callback:function(e){t.$set(t.options,"oss_qiniu_secret_key",e)},expression:"options.oss_qiniu_secret_key"}})],1),o("a-form-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:t.options.oss_qiniu_source,callback:function(e){t.$set(t.options,"oss_qiniu_source",e)},expression:"options.oss_qiniu_source"}})],1),o("a-form-item",{attrs:{label:"Bucket："}},[o("a-input",{attrs:{placeholder:"存储空间名称"},model:{value:t.options.oss_qiniu_bucket,callback:function(e){t.$set(t.options,"oss_qiniu_bucket",e)},expression:"options.oss_qiniu_bucket"}})],1),o("a-form-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"样式分隔符+图片处理样式名称"},model:{value:t.options.oss_qiniu_style_rule,callback:function(e){t.$set(t.options,"oss_qiniu_style_rule",e)},expression:"options.oss_qiniu_style_rule"}})],1),o("a-form-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"样式分隔符+图片处理样式名称，一般为后台展示所用"},model:{value:t.options.oss_qiniu_thumbnail_style_rule,callback:function(e){t.$set(t.options,"oss_qiniu_thumbnail_style_rule",e)},expression:"options.oss_qiniu_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"ALIOSS"===t.options.attachment_type,expression:"options.attachment_type === 'ALIOSS'"}],attrs:{id:"aliOssForm"}},[o("a-form-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:t.options.oss_ali_domain_protocol,callback:function(e){t.$set(t.options,"oss_ali_domain_protocol",e)},expression:"options.oss_ali_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[t._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[t._v("HTTP")])],1)],1),o("a-form-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"如不填写，路径根域名将为 Bucket + EndPoint"},model:{value:t.options.oss_ali_domain,callback:function(e){t.$set(t.options,"oss_ali_domain",e)},expression:"options.oss_ali_domain"}})],1),o("a-form-item",{attrs:{label:"Bucket："}},[o("a-input",{attrs:{placeholder:"存储空间名称"},model:{value:t.options.oss_ali_bucket_name,callback:function(e){t.$set(t.options,"oss_ali_bucket_name",e)},expression:"options.oss_ali_bucket_name"}})],1),o("a-form-item",{attrs:{label:"EndPoint（地域节点）："}},[o("a-input",{model:{value:t.options.oss_ali_endpoint,callback:function(e){t.$set(t.options,"oss_ali_endpoint",e)},expression:"options.oss_ali_endpoint"}})],1),o("a-form-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.oss_ali_access_key,callback:function(e){t.$set(t.options,"oss_ali_access_key",e)},expression:"options.oss_ali_access_key"}})],1),o("a-form-item",{attrs:{label:"Access Secret："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.oss_ali_access_secret,callback:function(e){t.$set(t.options,"oss_ali_access_secret",e)},expression:"options.oss_ali_access_secret"}})],1),o("a-form-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:t.options.oss_ali_source,callback:function(e){t.$set(t.options,"oss_ali_source",e)},expression:"options.oss_ali_source"}})],1),o("a-form-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"请到阿里云控制台的图片处理获取"},model:{value:t.options.oss_ali_style_rule,callback:function(e){t.$set(t.options,"oss_ali_style_rule",e)},expression:"options.oss_ali_style_rule"}})],1),o("a-form-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"请到阿里云控制台的图片处理获取，一般为后台展示所用"},model:{value:t.options.oss_ali_thumbnail_style_rule,callback:function(e){t.$set(t.options,"oss_ali_thumbnail_style_rule",e)},expression:"options.oss_ali_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"BAIDUBOS"===t.options.attachment_type,expression:"options.attachment_type === 'BAIDUBOS'"}],attrs:{id:"baiduBosForm"}},[o("a-form-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:t.options.bos_baidu_domain_protocol,callback:function(e){t.$set(t.options,"bos_baidu_domain_protocol",e)},expression:"options.bos_baidu_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[t._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[t._v("HTTP")])],1)],1),o("a-form-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"如不填写，路径根域名将为 Bucket + EndPoint"},model:{value:t.options.bos_baidu_domain,callback:function(e){t.$set(t.options,"bos_baidu_domain",e)},expression:"options.bos_baidu_domain"}})],1),o("a-form-item",{attrs:{label:"Bucket："}},[o("a-input",{attrs:{placeholder:"存储空间名称"},model:{value:t.options.bos_baidu_bucket_name,callback:function(e){t.$set(t.options,"bos_baidu_bucket_name",e)},expression:"options.bos_baidu_bucket_name"}})],1),o("a-form-item",{attrs:{label:"EndPoint（地域节点）："}},[o("a-input",{model:{value:t.options.bos_baidu_endpoint,callback:function(e){t.$set(t.options,"bos_baidu_endpoint",e)},expression:"options.bos_baidu_endpoint"}})],1),o("a-form-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.bos_baidu_access_key,callback:function(e){t.$set(t.options,"bos_baidu_access_key",e)},expression:"options.bos_baidu_access_key"}})],1),o("a-form-item",{attrs:{label:"Secret Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.bos_baidu_secret_key,callback:function(e){t.$set(t.options,"bos_baidu_secret_key",e)},expression:"options.bos_baidu_secret_key"}})],1),o("a-form-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"请到百度云控制台的图片处理获取"},model:{value:t.options.bos_baidu_style_rule,callback:function(e){t.$set(t.options,"bos_baidu_style_rule",e)},expression:"options.bos_baidu_style_rule"}})],1),o("a-form-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"请到百度云控制台的图片处理获取，一般为后台展示所用"},model:{value:t.options.bos_baidu_thumbnail_style_rule,callback:function(e){t.$set(t.options,"bos_baidu_thumbnail_style_rule",e)},expression:"options.bos_baidu_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"TENCENTCOS"===t.options.attachment_type,expression:"options.attachment_type === 'TENCENTCOS'"}],attrs:{id:"tencentCosForm"}},[o("a-form-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:t.options.cos_tencent_domain_protocol,callback:function(e){t.$set(t.options,"cos_tencent_domain_protocol",e)},expression:"options.cos_tencent_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[t._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[t._v("HTTP")])],1)],1),o("a-form-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"如不填写，路径根域名将为 Bucket + 区域地址"},model:{value:t.options.cos_tencent_domain,callback:function(e){t.$set(t.options,"cos_tencent_domain",e)},expression:"options.cos_tencent_domain"}})],1),o("a-form-item",{attrs:{label:"Bucket："}},[o("a-input",{attrs:{placeholder:"存储桶名称"},model:{value:t.options.cos_tencent_bucket_name,callback:function(e){t.$set(t.options,"cos_tencent_bucket_name",e)},expression:"options.cos_tencent_bucket_name"}})],1),o("a-form-item",{attrs:{label:"区域："}},[o("a-auto-complete",{attrs:{dataSource:t.tencentCosRegions,allowClear:""},model:{value:t.options.cos_tencent_region,callback:function(e){t.$set(t.options,"cos_tencent_region",e)},expression:"options.cos_tencent_region"}})],1),o("a-form-item",{attrs:{label:"Secret Id："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.cos_tencent_secret_id,callback:function(e){t.$set(t.options,"cos_tencent_secret_id",e)},expression:"options.cos_tencent_secret_id"}})],1),o("a-form-item",{attrs:{label:"Secret Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.cos_tencent_secret_key,callback:function(e){t.$set(t.options,"cos_tencent_secret_key",e)},expression:"options.cos_tencent_secret_key"}})],1),o("a-form-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:t.options.cos_tencent_source,callback:function(e){t.$set(t.options,"cos_tencent_source",e)},expression:"options.cos_tencent_source"}})],1),o("a-form-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"请到腾讯云控制台的图片处理获取"},model:{value:t.options.cos_tencent_style_rule,callback:function(e){t.$set(t.options,"cos_tencent_style_rule",e)},expression:"options.cos_tencent_style_rule"}})],1),o("a-form-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"请到腾讯云控制台的图片处理获取，一般为后台展示所用"},model:{value:t.options.cos_tencent_thumbnail_style_rule,callback:function(e){t.$set(t.options,"cos_tencent_thumbnail_style_rule",e)},expression:"options.cos_tencent_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"HUAWEIOBS"===t.options.attachment_type,expression:"options.attachment_type === 'HUAWEIOBS'"}],attrs:{id:"huaweiObsForm"}},[o("a-form-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:t.options.obs_huawei_domain_protocol,callback:function(e){t.$set(t.options,"obs_huawei_domain_protocol",e)},expression:"options.obs_huawei_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[t._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[t._v("HTTP")])],1)],1),o("a-form-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"如不填写，路径根域名将为 Bucket + EndPoint"},model:{value:t.options.obs_huawei_domain,callback:function(e){t.$set(t.options,"obs_huawei_domain",e)},expression:"options.obs_huawei_domain"}})],1),o("a-form-item",{attrs:{label:"Bucket（桶名称）："}},[o("a-input",{attrs:{placeholder:"桶名称"},model:{value:t.options.obs_huawei_bucket_name,callback:function(e){t.$set(t.options,"obs_huawei_bucket_name",e)},expression:"options.obs_huawei_bucket_name"}})],1),o("a-form-item",{attrs:{label:"EndPoint（终端节点）："}},[o("a-input",{attrs:{placeholder:"Endpoint"},model:{value:t.options.obs_huawei_endpoint,callback:function(e){t.$set(t.options,"obs_huawei_endpoint",e)},expression:"options.obs_huawei_endpoint"}})],1),o("a-form-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.obs_huawei_access_key,callback:function(e){t.$set(t.options,"obs_huawei_access_key",e)},expression:"options.obs_huawei_access_key"}})],1),o("a-form-item",{attrs:{label:"Access Secret："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.obs_huawei_access_secret,callback:function(e){t.$set(t.options,"obs_huawei_access_secret",e)},expression:"options.obs_huawei_access_secret"}})],1),o("a-form-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:t.options.obs_huawei_source,callback:function(e){t.$set(t.options,"obs_huawei_source",e)},expression:"options.obs_huawei_source"}})],1),o("a-form-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"请到华为云控制台的图片处理创建"},model:{value:t.options.obs_huawei_style_rule,callback:function(e){t.$set(t.options,"obs_huawei_style_rule",e)},expression:"options.obs_huawei_style_rule"}})],1),o("a-form-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"请到华为云控制台的图片处理获取，一般为后台展示所用"},model:{value:t.options.obs_huawei_thumbnail_style_rule,callback:function(e){t.$set(t.options,"obs_huawei_thumbnail_style_rule",e)},expression:"options.obs_huawei_thumbnail_style_rule"}})],1)],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1)},E=[],D=o("a796"),I=[{text:"北京一区",value:"ap-beijing-1"},{text:"北京",value:"ap-beijing"},{text:"上海（华东）",value:"ap-shanghai"},{text:"广州（华南）",value:"ap-guangzhou"},{text:"成都（西南）",value:"ap-chengdu"},{text:"重庆",value:"ap-chongqing"}],B=[{text:"自动选择",value:"auto"},{text:"华东",value:"z0"},{text:"华北",value:"z1"},{text:"华南",value:"z2"},{text:"北美",value:"na0"},{text:"东南亚",value:"as0"}],z={name:"AttachmentTab",props:{options:{type:Object,required:!0}},data:function(){return{attachmentType:D["a"].type,wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},tencentCosRegions:I,qiniuOssZones:B}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){switch(this.options.attachment_type){case"SMMS":if(!this.options.smms_api_secret_token)return void this.$notification["error"]({message:"提示",description:"Secret Token 不能为空！"});break;case"UPOSS":if(!this.options.oss_upyun_domain)return void this.$notification["error"]({message:"提示",description:"绑定域名不能为空！"});if(!this.options.oss_upyun_bucket)return void this.$notification["error"]({message:"提示",description:"空间名称不能为空！"});if(!this.options.oss_upyun_operator)return void this.$notification["error"]({message:"提示",description:"操作员名称不能为空！"});if(!this.options.oss_upyun_password)return void this.$notification["error"]({message:"提示",description:"操作员密码不能为空！"});if(!this.options.oss_upyun_source)return void this.$notification["error"]({message:"提示",description:"文件目录不能为空！"});break;case"QINIUOSS":if(!this.options.oss_qiniu_domain)return void this.$notification["error"]({message:"提示",description:"绑定域名不能为空！"});if(!this.options.oss_qiniu_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.oss_qiniu_secret_key)return void this.$notification["error"]({message:"提示",description:"Secret Key 不能为空！"});if(!this.options.oss_qiniu_bucket)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});break;case"ALIOSS":if(!this.options.oss_ali_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.oss_ali_endpoint)return void this.$notification["error"]({message:"提示",description:"EndPoint（地域节点） 不能为空！"});if(!this.options.oss_ali_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.oss_ali_access_secret)return void this.$notification["error"]({message:"提示",description:"Access Secret 不能为空！"});break;case"BAIDUBOS":if(!this.options.bos_baidu_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.bos_baidu_endpoint)return void this.$notification["error"]({message:"提示",description:"EndPoint（地域节点） 不能为空！"});if(!this.options.bos_baidu_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.bos_baidu_secret_key)return void this.$notification["error"]({message:"提示",description:"Secret Key 不能为空！"});break;case"TENCENTCOS":if(!this.options.cos_tencent_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.cos_tencent_region)return void this.$notification["error"]({message:"提示",description:"区域不能为空！"});if(!this.options.cos_tencent_secret_id)return void this.$notification["error"]({message:"提示",description:"Secret Id 不能为空！"});if(!this.options.cos_tencent_secret_key)return void this.$notification["error"]({message:"提示",description:"Secret Key 不能为空！"});break;case"HUAWEIOBS":if(!this.options.obs_huawei_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.obs_huawei_endpoint)return void this.$notification["error"]({message:"提示",description:"EndPoint（终端节点） 不能为空！"});if(!this.options.obs_huawei_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.obs_huawei_access_secret)return void this.$notification["error"]({message:"提示",description:"Access Secret 不能为空！"});break}this.$emit("onSave")}}},U=z,M=Object(u["a"])(U,q,E,!1,null,null,null),L=M.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"custom-tab-wrapper"},[o("a-tabs",[o("a-tab-pane",{key:"smtpoptions",attrs:{tab:"发信设置"}},[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"是否启用："}},[o("a-switch",{model:{value:t.options.email_enabled,callback:function(e){t.$set(t.options,"email_enabled",e)},expression:"options.email_enabled"}})],1),o("a-form-item",{attrs:{label:"SMTP 地址："}},[o("a-input",{model:{value:t.options.email_host,callback:function(e){t.$set(t.options,"email_host",e)},expression:"options.email_host"}})],1),o("a-form-item",{attrs:{label:"发送协议："}},[o("a-input",{model:{value:t.options.email_protocol,callback:function(e){t.$set(t.options,"email_protocol",e)},expression:"options.email_protocol"}})],1),o("a-form-item",{attrs:{label:"SSL 端口："}},[o("a-input",{model:{value:t.options.email_ssl_port,callback:function(e){t.$set(t.options,"email_ssl_port",e)},expression:"options.email_ssl_port"}})],1),o("a-form-item",{attrs:{label:"邮箱账号："}},[o("a-input",{model:{value:t.options.email_username,callback:function(e){t.$set(t.options,"email_username",e)},expression:"options.email_username"}})],1),o("a-form-item",{attrs:{label:"邮箱密码："}},[o("a-input-password",{attrs:{placeholder:"部分邮箱可能是授权码",autocomplete:"new-password"},model:{value:t.options.email_password,callback:function(e){t.$set(t.options,"email_password",e)},expression:"options.email_password"}})],1),o("a-form-item",{attrs:{label:"发件人："}},[o("a-input",{model:{value:t.options.email_from_name,callback:function(e){t.$set(t.options,"email_from_name",e)},expression:"options.email_from_name"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1),o("a-tab-pane",{key:"smtptest",attrs:{tab:"发送测试"}},[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"收件人："}},[o("a-input",{model:{value:t.mailParam.to,callback:function(e){t.$set(t.mailParam,"to",e)},expression:"mailParam.to"}})],1),o("a-form-item",{attrs:{label:"主题："}},[o("a-input",{model:{value:t.mailParam.subject,callback:function(e){t.$set(t.mailParam,"subject",e)},expression:"mailParam.subject"}})],1),o("a-form-item",{attrs:{label:"内容："}},[o("a-input",{attrs:{type:"textarea",autoSize:{minRows:5}},model:{value:t.mailParam.content,callback:function(e){t.$set(t.mailParam,"content",e)},expression:"mailParam.content"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleTestMailClick}},[t._v("发送")])],1)],1)],1)],1)],1)},V=[],H=o("9efd"),F="/api/admin/mails",R={testMail:function(t){return Object(H["a"])({url:"".concat(F,"/test"),method:"post",data:t})}},K=R,G={name:"SmtpTab",props:{options:{type:Object,required:!0}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},mailParam:{}}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){if(this.options.email_enabled){if(!this.options.email_host)return void this.$notification["error"]({message:"提示",description:"SMTP 地址不能为空！"});if(!this.options.email_protocol)return void this.$notification["error"]({message:"提示",description:"发送协议不能为空！"});if(!this.options.email_ssl_port)return void this.$notification["error"]({message:"提示",description:"SSL 端口不能为空！"});if(!this.options.email_username)return void this.$notification["error"]({message:"提示",description:"邮箱账号不能为空！"});if(!this.options.email_password)return void this.$notification["error"]({message:"提示",description:"邮箱密码不能为空！"});if(!this.options.email_from_name)return void this.$notification["error"]({message:"提示",description:"发件人不能为空！"})}this.$emit("onSave")},handleTestMailClick:function(){var t=this;this.mailParam.to?this.mailParam.subject?this.mailParam.content?K.testMail(this.mailParam).then((function(e){t.$message.info(e.data.message)})):this.$notification["error"]({message:"提示",description:"内容不能为空！"}):this.$notification["error"]({message:"提示",description:"主题不能为空！"}):this.$notification["error"]({message:"提示",description:"收件人不能为空！"})}}},J=G,W=Object(u["a"])(J,N,V,!1,null,null,null),Q=W.exports,Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"自定义全局 head："}},[o("a-input",{attrs:{type:"textarea",autoSize:{minRows:5},placeholder:"放置于每个页面的 <head></head> 标签中"},model:{value:t.options.blog_custom_head,callback:function(e){t.$set(t.options,"blog_custom_head",e)},expression:"options.blog_custom_head"}})],1),o("a-form-item",{attrs:{label:"自定义内容页 head："}},[o("a-input",{attrs:{type:"textarea",autoSize:{minRows:5},placeholder:"仅放置于内容页面的 <head></head> 标签中"},model:{value:t.options.blog_custom_content_head,callback:function(e){t.$set(t.options,"blog_custom_content_head",e)},expression:"options.blog_custom_content_head"}})],1),o("a-form-item",{attrs:{label:"统计代码："}},[o("a-input",{attrs:{type:"textarea",autoSize:{minRows:5},placeholder:"第三方网站统计的代码，如：Google Analytics、百度统计、CNZZ 等"},model:{value:t.options.blog_statistics_code,callback:function(e){t.$set(t.options,"blog_statistics_code",e)},expression:"options.blog_statistics_code"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1)},Z=[],X={name:"OtherTab",props:{options:{type:Object,required:!0}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}}}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){this.$emit("onSave")}}},tt=X,et=Object(u["a"])(tt,Y,Z,!1,null,null,null),ot=et.exports,at=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"文章固定链接类型："}},[o("template",{slot:"help"},["DEFAULT"===t.options.post_permalink_type?o("span",[t._v(t._s(t.options.blog_url)+"/"+t._s(t.options.archives_prefix)+"/${slug}"+t._s(t.options.path_suffix))]):"DATE"===t.options.post_permalink_type?o("span",[t._v(t._s(t.options.blog_url)+t._s(t._f("moment_post_date")(new Date))+"${slug}"+t._s(t.options.path_suffix))]):"DAY"===t.options.post_permalink_type?o("span",[t._v(t._s(t.options.blog_url)+t._s(t._f("moment_post_day")(new Date))+"${slug}"+t._s(t.options.path_suffix))]):"ID"===t.options.post_permalink_type?o("span",[t._v(t._s(t.options.blog_url)+"/?p=${id}")]):t._e()]),o("a-select",{model:{value:t.options.post_permalink_type,callback:function(e){t.$set(t.options,"post_permalink_type",e)},expression:"options.post_permalink_type"}},t._l(Object.keys(t.permalinkType),(function(e){return o("a-select-option",{key:e,attrs:{value:e}},[t._v(t._s(t.permalinkType[e].text))])})),1)],2),o("a-form-item",{attrs:{label:"自定义页面前缀："}},[o("template",{slot:"help"},[o("span",[t._v(t._s(t.options.blog_url)+"/"+t._s(t.options.sheet_prefix)+"/${slug}"+t._s(t.options.path_suffix))])]),o("a-input",{model:{value:t.options.sheet_prefix,callback:function(e){t.$set(t.options,"sheet_prefix",e)},expression:"options.sheet_prefix"}})],2),o("a-form-item",{attrs:{label:"友情链接页面前缀："}},[o("template",{slot:"help"},[o("span",[t._v(t._s(t.options.blog_url)+"/"+t._s(t.options.links_prefix)+t._s(t.options.path_suffix))])]),o("a-input",{model:{value:t.options.links_prefix,callback:function(e){t.$set(t.options,"links_prefix",e)},expression:"options.links_prefix"}})],2),o("a-form-item",{attrs:{label:"图库页面前缀："}},[o("template",{slot:"help"},[o("span",[t._v(t._s(t.options.blog_url)+"/"+t._s(t.options.photos_prefix)+t._s(t.options.path_suffix))])]),o("a-input",{model:{value:t.options.photos_prefix,callback:function(e){t.$set(t.options,"photos_prefix",e)},expression:"options.photos_prefix"}})],2),o("a-form-item",{attrs:{label:"日志页面前缀："}},[o("template",{slot:"help"},[o("span",[t._v(t._s(t.options.blog_url)+"/"+t._s(t.options.journals_prefix)+t._s(t.options.path_suffix))])]),o("a-input",{model:{value:t.options.journals_prefix,callback:function(e){t.$set(t.options,"journals_prefix",e)},expression:"options.journals_prefix"}})],2),o("a-form-item",{attrs:{label:"归档前缀："}},[o("template",{slot:"help"},[o("span",[t._v(t._s(t.options.blog_url)+"/"+t._s(t.options.archives_prefix)+t._s(t.options.path_suffix))])]),o("a-input",{model:{value:t.options.archives_prefix,callback:function(e){t.$set(t.options,"archives_prefix",e)},expression:"options.archives_prefix"}})],2),o("a-form-item",{attrs:{label:"分类前缀："}},[o("template",{slot:"help"},[o("span",[t._v(t._s(t.options.blog_url)+"/"+t._s(t.options.categories_prefix)+"/${slug}"+t._s(t.options.path_suffix))])]),o("a-input",{model:{value:t.options.categories_prefix,callback:function(e){t.$set(t.options,"categories_prefix",e)},expression:"options.categories_prefix"}})],2),o("a-form-item",{attrs:{label:"标签前缀："}},[o("template",{slot:"help"},[o("span",[t._v(t._s(t.options.blog_url)+"/"+t._s(t.options.tags_prefix)+"/${slug}"+t._s(t.options.path_suffix))])]),o("a-input",{model:{value:t.options.tags_prefix,callback:function(e){t.$set(t.options,"tags_prefix",e)},expression:"options.tags_prefix"}})],2),o("a-form-item",{attrs:{label:"路径后缀："}},[o("template",{slot:"help"},[o("span",[t._v("* 格式为："),o("code",[t._v(".${suffix}")]),t._v("，仅对内建路径有效")])]),o("a-input",{model:{value:t.options.path_suffix,callback:function(e){t.$set(t.options,"path_suffix",e)},expression:"options.path_suffix"}})],2),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1)},st=[],nt=o("caf6"),it={name:"PermalinkTab",props:{options:{type:Object,required:!0}},data:function(){return{permalinkType:nt["a"].permalinkType,wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}}}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){this.$emit("onSave")}}},lt=it,rt=Object(u["a"])(lt,at,st,!1,null,null,null),pt=rt.exports,ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"API 服务："}},[o("a-switch",{model:{value:t.options.api_enabled,callback:function(e){t.$set(t.options,"api_enabled",e)},expression:"options.api_enabled"}})],1),o("a-form-item",{attrs:{label:"Access key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:t.options.api_access_key,callback:function(e){t.$set(t.options,"api_access_key",e)},expression:"options.api_access_key"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1)},ut=[],_t={name:"ApiTab",props:{options:{type:Object,required:!0}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}}}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){!this.options.api_enabled||this.options.api_access_key?this.$emit("onSave"):this.$notification["error"]({message:"提示",description:"Access key 不能为空！"})}}},mt=_t,dt=Object(u["a"])(mt,ct,ut,!1,null,null,null),bt=dt.exports,ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-form",{attrs:{layout:"vertical",wrapperCol:t.wrapperCol}},[o("a-form-item",{attrs:{label:"全局绝对路径：",help:"* 对网站上面的所有页面路径、本地附件路径、以及主题中的静态资源路径有效。"}},[o("a-switch",{model:{value:t.options.global_absolute_path_enabled,callback:function(e){t.$set(t.options,"global_absolute_path_enabled",e)},expression:"options.global_absolute_path_enabled"}})],1),o("a-form-item",[o("a-button",{attrs:{type:"primary"},on:{click:t.handleSaveOptions}},[t._v("保存")])],1)],1)],1)},ft=[],vt={name:"AdvancedOtherTab",props:{options:{type:Object,required:!0}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}}}},watch:{options:function(t){this.$emit("onChange",t)}},methods:{handleSaveOptions:function(){this.$emit("onSave")}}},yt=vt,gt=Object(u["a"])(yt,ht,ft,!1,null,null,null),kt=gt.exports,xt=o("482b"),wt=o("2f62");function $t(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function St(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(o),!0).forEach((function(e){Object(n["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):$t(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var Ot={components:{GeneralTab:m,SeoTab:y,PostTab:S,CommentTab:j,AttachmentTab:L,SmtpTab:Q,OtherTab:ot,PermalinkTab:pt,ApiTab:bt,AdvancedOtherTab:kt},data:function(){return{options:{},advancedOptions:!1}},created:function(){this.loadFormOptions()},methods:St({},Object(wt["b"])(["loadUser","loadOptions"]),{handleAdvancedOptions:function(){this.advancedOptions=!this.advancedOptions},loadFormOptions:function(){var t=this;xt["a"].listAll().then((function(e){t.options=e.data.data}))},onOptionsChange:function(t){this.options=t},onSaveOptions:function(){var t=this;xt["a"].save(this.options).then((function(e){t.loadFormOptions(),t.loadOptions(),t.loadUser(),t.$message.success("保存成功！")}))}})},Ct=Ot,Tt=Object(u["a"])(Ct,a,s,!1,null,null,null);e["default"]=Tt.exports}}]);